-- CustomUILibrary.lua

local CustomUI = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local function createBase()
	local screenGui = Instance.new("ScreenGui")
	screenGui.Name = "StylishUI"
	screenGui.ResetOnSpawn = false
	screenGui.IgnoreGuiInset = true
	screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
	
	local mainFrame = Instance.new("Frame")
	mainFrame.Name = "MainFrame"
	mainFrame.Size = UDim2.new(0, 500, 0, 320)
	mainFrame.Position = UDim2.new(0.5, -250, 0.5, -160)
	mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
	mainFrame.BorderSizePixel = 0
	mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
	mainFrame.Active = true
	mainFrame.Draggable = true
	mainFrame.Parent = screenGui
	
	local uicorner = Instance.new("UICorner", mainFrame)
	uicorner.CornerRadius = UDim.new(0, 10)

	local title = Instance.new("TextLabel")
	title.Text = "⚙️ Stylish Lib"
	title.Size = UDim2.new(1, 0, 0, 40)
	title.BackgroundTransparency = 1
	title.TextColor3 = Color3.fromRGB(170, 0, 255)
	title.Font = Enum.Font.GothamSemibold
	title.TextSize = 20
	title.Parent = mainFrame
	
	local container = Instance.new("Frame")
	container.Name = "Container"
	container.Position = UDim2.new(0, 0, 0, 40)
	container.Size = UDim2.new(1, 0, 1, -40)
	container.BackgroundTransparency = 1
	container.Parent = mainFrame
	
	local layout = Instance.new("UIListLayout")
	layout.Padding = UDim.new(0, 10)
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Parent = container

	return container
end

local function createToggle(parent, text, callback)
	local toggle = Instance.new("TextButton")
	toggle.Size = UDim2.new(1, -20, 0, 40)
	toggle.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	toggle.Text = ""
	toggle.AutoButtonColor = false
	toggle.Parent = parent

	local corner = Instance.new("UICorner", toggle)
	corner.CornerRadius = UDim.new(0, 8)

	local label = Instance.new("TextLabel")
	label.Text = text
	label.TextColor3 = Color3.fromRGB(255, 255, 255)
	label.Font = Enum.Font.Gotham
	label.TextSize = 14
	label.BackgroundTransparency = 1
	label.Position = UDim2.new(0, 10, 0, 0)
	label.Size = UDim2.new(1, -60, 1, 0)
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = toggle

	local switch = Instance.new("Frame")
	switch.Size = UDim2.new(0, 40, 0, 20)
	switch.Position = UDim2.new(1, -50, 0.5, -10)
	switch.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	switch.BorderSizePixel = 0
	switch.Parent = toggle

	local switchCorner = Instance.new("UICorner", switch)
	switchCorner.CornerRadius = UDim.new(1, 0)

	local knob = Instance.new("Frame")
	knob.Size = UDim2.new(0, 18, 0, 18)
	knob.Position = UDim2.new(0, 1, 0, 1)
	knob.BackgroundColor3 = Color3.fromRGB(130, 130, 130)
	knob.Parent = switch

	local knobCorner = Instance.new("UICorner", knob)
	knobCorner.CornerRadius = UDim.new(1, 0)

	local toggled = false

	toggle.MouseButton1Click:Connect(function()
		toggled = not toggled
		if toggled then
			switch.BackgroundColor3 = Color3.fromRGB(170, 0, 255)
			TweenService:Create(knob, TweenInfo.new(0.25), { Position = UDim2.new(1, -19, 0, 1) }):Play()
		else
			switch.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
			TweenService:Create(knob, TweenInfo.new(0.25), { Position = UDim2.new(0, 1, 0, 1) }):Play()
		end
		if callback then callback(toggled) end
	end)
end

local function createSection(parent, titleText)
	local label = Instance.new("TextLabel")
	label.Text = titleText
	label.TextColor3 = Color3.fromRGB(170, 0, 255)
	label.Font = Enum.Font.GothamSemibold
	label.TextSize = 16
	label.Size = UDim2.new(1, -20, 0, 30)
	label.BackgroundTransparency = 1
	label.Parent = parent
end

local function createParagraph(parent, text)
	local label = Instance.new("TextLabel")
	label.Text = text
	label.TextWrapped = true
	label.TextColor3 = Color3.fromRGB(200, 200, 200)
	label.Font = Enum.Font.Gotham
	label.TextSize = 13
	label.Size = UDim2.new(1, -20, 0, 60)
	label.BackgroundTransparency = 1
	label.Parent = parent
end

local function createTextbox(parent, placeholder, callback)
	local box = Instance.new("TextBox")
	box.PlaceholderText = placeholder
	box.Text = ""
	box.TextColor3 = Color3.fromRGB(255, 255, 255)
	box.Font = Enum.Font.Gotham
	box.TextSize = 14
	box.Size = UDim2.new(1, -20, 0, 35)
	box.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	box.ClearTextOnFocus = false
	box.Parent = parent

	local corner = Instance.new("UICorner", box)
	corner.CornerRadius = UDim.new(0, 8)

	box.FocusLost:Connect(function(enter)
		if enter and callback then
			callback(box.Text)
		end
	end)
end

-- Você pode adicionar o Dropdown, Slider e Tab da mesma forma com estilo

function CustomUI:CreateWindow()
	return createBase()
end

function CustomUI:CreateToggle(parent, text, callback)
	createToggle(parent, text, callback)
end

function CustomUI:CreateSection(parent, title)
	createSection(parent, title)
end

function CustomUI:CreateParagraph(parent, text)
	createParagraph(parent, text)
end

function CustomUI:CreateTextbox(parent, placeholder, callback)
	createTextbox(parent, placeholder, callback)
end

return CustomUI
